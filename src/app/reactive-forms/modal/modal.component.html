<form [formGroup]="myForm!" class="w-full m-auto p-4">
  <div class="flex flex-col items-center p-3">
    <mat-form-field appearance="fill" class="w-full">
      <mat-label>Position Name</mat-label>
      <input matInput formControlName="name" />
    </mat-form-field>
    <mat-form-field appearance="fill" class="w-full">
      <mat-label>Position Level</mat-label>
      <mat-select formControlName="level">
        <mat-option value="junior">Junior</mat-option>
        <mat-option value="middle">Middle</mat-option>
        <mat-option value="senior">Senior</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="fill" class="w-full">
      <mat-label>Start date</mat-label>
      <input
        matInput
        formControlName="startDate"
        [matDatepicker]="startpicker"
      />
      <mat-datepicker-toggle
        matIconSuffix
        [for]="startpicker"
      ></mat-datepicker-toggle>
      <mat-datepicker #startpicker></mat-datepicker>
    </mat-form-field>
    <mat-form-field appearance="fill" class="w-full">
      <mat-label>End date</mat-label>
      <input matInput formControlName="endDate" [matDatepicker]="picker" />
      <mat-datepicker-toggle
        matIconSuffix
        [for]="picker"
      ></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
    <div class="flex justify-between mt-4 w-full">
      <button mat-raised-button color="primary" (click)="addPosition()">
        ADD
      </button>
      <button mat-raised-button color="secondary" mat-dialog-close>
        CLOSE
      </button>
    </div>
  </div>
</form>

<div
  *ngFor="let position of submittedPositions; index as i"
  class="w-full mt-4 flex justify-between p-4"
>
  <mat-card class="w-[30%] flex justify-between">
    <mat-card-header>
      <mat-card-title>{{ position.name }}</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <p>{{ position.level }}</p>
      <span>{{ position.startDate }}</span>
      <span>{{ position.endDate }}</span>
    </mat-card-content>
    <mat-card-actions class="flex justify-between mt-4">
      <button mat-button color="warn" (click)="deletePosition(i)">
        Delete
      </button>
    </mat-card-actions>
  </mat-card>
</div>
